<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Computed</title>

  <script src="../js/vue.global.js"></script>
  <!--<script src="https://unpkg.com/vue@next"></script>-->

  <!--对于任何包含响应式数据的复杂逻辑，你都应该使用计算属性-->
  <!--声明了一个计算属性 publishedBooksMessage-->
  <!--尝试更改应用程序 data 中 books 数组的值，你将看到 publishedBooksMessage 如何相应地更改。-->

  <!--你可以像普通属性一样将数据绑定到模板中的计算属性-->
  <!--Vue 知道 vm.publishedBookMessage 依赖于 vm.author.books-->
  <!--因此当 vm.author.books 发生改变时，所有依赖 vm.publishedBookMessage 的绑定也会更新-->
  <!--而且最妙的是我们已经声明的方式创建了这个依赖关系：计算属性的 getter 函数没有副作用，它更易于测试和理解-->

</head>
<body>

<div id="computed-basics">
  <p>Has published books:</p>
  <span>{{ publishedBooksMessage }}</span>
</div>

</body>

<!--suppress ES6ModulesDependencies -->
<script>

  Vue.createApp({
    data() {
      return {
        author: {
          name: 'John Doe',
          books: [
            'Vue 2 - Advanced Guide',
            'Vue 3 - Basic Guide',
            'Vue 4 - The Mystery'
          ]
        }
      }
    },
    computed: {
      // 计算属性的 Getter
      publishedBooksMessage() {
        // 'this'指向 vm 实例.
        return this.author.books.length > 0 ? 'YES' : 'NO'
      }
    }
  }).mount('#computed-basics')

</script>

</html>
