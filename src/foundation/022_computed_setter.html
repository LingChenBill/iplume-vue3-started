<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Computed setter</title>

  <script src="../js/vue.global.js"></script>
  <!--<script src="https://unpkg.com/vue@next"></script>-->

  <!--https://v3.cn.vuejs.org/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84-setter-->

  <!--计算属性默认只有 getter，不过在需要时你也可以提供一个 setter-->
  <!--现在再运行 vm.fullName = 'John Doe' 时，setter 会被调用，vm.firstName 和 vm.lastName 也会相应地被更新-->

</head>
<body>

<div id="computed-setter">
  <span>{{ this.fullName }}</span>
</div>

</body>

<!--suppress ES6ModulesDependencies -->
<script>

  const vm = Vue.createApp({
    data() {
      return {
        firstName: 'John',
        lastName: 'Doe'
      }
    },
    computed: {
      fullName: {
        // getter.
        get() {
          return this.firstName + ' ' + this.lastName
        },
        // setter.
        set(newValue) {
          const names = newValue.split(' ')
          this.firstName = names[0]
          this.lastName = names[names.length - 1]
        }
      }
    }
  }).mount('#computed-setter')

  alert(vm.fullName)

  // 调用fullName的计算属性的setter.
  vm.fullName = "Cat petty"
  alert(vm.fullName)

</script>

</html>
