<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Props validator</title>

  <script src="../js/vue.global.js"></script>
  <!--<script src="https://unpkg.com/vue@next"></script>-->

  <!--https://v3.cn.vuejs.org/guide/component-props.html#prop-%E9%AA%8C%E8%AF%81-->

  <!--Prop 验证-->
  <!--我们可以为组件的 prop 指定验证要求，例如你知道的这些类型。如果有一个需求没有被满足，则 Vue 会在浏览器控制台中警告你。-->
  <!--这在开发一个会被别人用到的组件时尤其有帮助。-->

  <!--为了定制 prop 的验证方式，你可以为 props 中的值提供一个带有验证需求的对象，而不是一个字符串数组-->

  <!--类型检查.-->
  <!--type 可以是下列原生构造函数中的一个-->
  <!--String, Number, Boolean, Array, Object, Date, Function, Symbol-->
  <!--type 还可以是一个自定义的构造函数，并且通过 instanceof 来进行检查确认-->

</head>
<body>

</body>

<!--suppress ES6ModulesDependencies -->
<script>

  const app = Vue.createApp({})

  app.component('my-component', {
    props: {
      // 基础的类型检查('null' 和 'undefined' 会通过任何类型验证.
      propA: Number,
      // 多个可能的类型.
      propB: [String, Number],
      // 必填的字符串.
      propC: {
        type: String,
        required: true
      },
      // 带有默认值的数字.
      propD: {
        type: Number,
        default: 100
      },
      // 带有默认值的对象.
      propE: {
        type: Object,
        // 对象或数组默认值必须从一个工厂函数获取.
        default() {
          return { message: 'hello' }
        }
      },
      // 自定义验证函数.
      propF: {
        validator(value) {
          // 这个值必须匹配下列字符串中的一个.
          return ['success', 'warning', 'danger'].includes(value)
        }
      },
      // 具有默认值的函数.
      propG: {
        type: Function,
        // 与对象或数组默认值不同,这不是一个工厂函数--这是一个用作默认值的函数.
        default() {
          return 'Default function'
        }
      }
    }
  })

</script>

</html>
